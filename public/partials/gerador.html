<div ng-controller="GeradorController as vm" ng-init="vm.init()">

	<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 border-bottom shadow-sm"
		style='background-color: #FEDB00'>
		<h5 class="my-0 mr-md-auto font-weight-normal">Gerador de Lista de Artefatos</h5>
	</div>

	<div class="container">

		<div ng-repeat="message in vm.messages" class="alert alert-danger" role="alert">
			<span>
				<i class="mdi mdi-info mdi-lg"></i> {{message}}
			</span>
		</div>

		<div class="row pt-2 border-top">

			<div class="col">

				<div class="input-group mb-3">
					<input type="text" class="form-control" 
						placeholder="Adicione uma task"
						aria-describedby="basic-addon2"
						ng-model='vm.task'>
					<div class="input-group-append">
						<button class="btn btn-primary" type="button"
						ng-click="vm.adicionarTask()">Adicionar</button>
					</div>
				</div>

			</div>

			<div class="col">

				<div class="input-group mb-3">
					<input type="text" class="form-control" 
						placeholder="Adicione o caminho do projeto"
						aria-describedby="basic-addon2"
						ng-model='vm.caminhoProjeto'>
					<div class="input-group-append">
						<button class="btn btn-primary" type="button"
						ng-click="vm.adicionarCaminhoProjeto()">Adicionar</button>
					</div>
				</div>

			</div>
		</div>

		<div class="row pt-2 pb-2" ng-if='vm.req.task.length || vm.req.projeto.length'>

			<div class="col">

				<table class="table" style="margin-bottom: 0rem;">
					<thead>
						<tr>
							<th style="width:80%">Task</th>
							<th style="width:20%" class="text-center"></th>
						</tr>
					</thead>
				</table>

				<div style="max-height: 12.3rem; overflow-y:scroll;">

					<table class="table table-striped table-bordered table-hover" 
						style="margin-bottom: 0rem;">
						<tbody>
							<tr ng-repeat="task in vm.req.task">
								<td style="width:80%">{{task}}</td>
								<td style="width:20%">
									<a href ng-click="vm.removerTask(task)">Remover</a>
								</td>
							</tr>
						</tbody>
					</table>

				</div>
			</div>

			<div class="col">

				<table class="table" style="margin-bottom: 0rem;">
					<thead>
						<tr>
							<th style="width:80%">Projeto</th>
							<th style="width:20%" class="text-center"></th>
						</tr>
					</thead>
				</table>

				<div style="max-height: 12.3rem; overflow-y:scroll;">

					<table class="table table-striped table-bordered table-hover" 
						style="margin-bottom: 0rem;">
						<tbody>
							<tr ng-repeat="caminhoProjeto in vm.req.projeto">
								<td style="width:80%">{{caminhoProjeto}}</td>
								<td style="width:20%">
									<a href ng-click="vm.removerCaminhoProjeto(caminhoProjeto)">Remover</a>
								</td>
							</tr>
						</tbody>
					</table>

				</div>
			</div>

		</div>

		<div class="row d-flex flex-row-reverse pb-2">

			<div class="p-2">
				<button class="btn btn-block btn-primary">Gerar Lista</button>
			</div>

			<div class="p-2" ng-if="vm.listaSaida.length">
				<button type="button" class="btn btn-block btn-success">Copiar Resultado</button>
			</div>

			<div class="p-2">
				<button type="button" class="btn btn-block btn-danger">Limpar</button>
			</div>


		</div>

		<div class="row pt-2 border-top" ng-if="vm.listaSaida.length">

			<div class="col">

				<table class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th style="width:10%" class="text-right">Número</th>
							<th style="width:70%">Artefato</th>
							<th style="width:20%">Tarefa</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="saida in vm.listaSaida">

							<td class="text-right">
								<span>
									{{vm.obterNumero(saida)}}
								</span>
							</td>

							<td>
								<li ng-repeat="artefato in saida.listaArtefatoSaida" class="list-unstyled">
									{{artefato.nomeArtefato}}
								</li>
							</td>

							<td>
								<li ng-repeat="tarefa in saida.listaNumTarefaSaida" class="list-unstyled">
									Tarefa nº {{tarefa}}
								</li>
							</td>

						</tr>
					</tbody>
				</table>

			</div>
		</div>
	</div>

	<footer class="pt-2 my-md-5 pt-md-5 border-top">
		<div class="row">

		</div>
	</footer>

</div>

</div>